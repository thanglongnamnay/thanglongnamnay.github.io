let canvas,ctx;function draw(a,t,c,e,n,s){ctx.strokeStyle=s,ctx.lineWidth=n,ctx.beginPath(),ctx.moveTo(a,t),ctx.lineTo(c,e),ctx.closePath(),ctx.stroke()}self.onmessage=a=>{if(a.data.canvas)canvas=a.data.canvas,(ctx=canvas.getContext("2d")).lineJoin="round",ctx.lineCap="round";else if("clear"==a.data)ctx.clearRect(0,0,canvas.width,canvas.height);else{const{x1:t,y1:c,x2:e,y2:n,size:s,color:o}=a.data;draw(t,c,e,n,s,o)}};